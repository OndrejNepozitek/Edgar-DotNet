(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{104:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),d=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=d(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=d(n),b=r,f=p["".concat(i,".").concat(b)]||p[b]||u[b]||o;return n?a.a.createElement(f,c(c({ref:t},l),{},{components:n})):a.a.createElement(f,c({ref:t},l))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var l=2;l<o;l++)i[l]=n[l];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},105:function(e,t,n){"use strict";var r=n(0),a=n(20);t.a=function(){const e=Object(r.useContext)(a.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},106:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(105),a=n(107);function o(){const{siteConfig:{baseUrl:e="/",url:t}={}}=Object(r.a)();return{withBaseUrl:(n,r)=>function(e,t,n,{forcePrependBaseUrl:r=!1,absolute:o=!1}={}){if(!n)return n;if(n.startsWith("#"))return n;if(Object(a.b)(n))return n;if(r)return t+n;const i=!n.startsWith(t)?t+n.replace(/^\//,""):n;return o?e+i:i}(t,e,n,r)}}function i(e,t={}){const{withBaseUrl:n}=o();return n(e,t)}},107:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(0),a=n.n(r),o=n(106);const i=e=>a.a.createElement("div",{style:{display:"inline-block",margin:2,overflow:"hidden",position:"relative",width:`calc(${100/e.cols}% - 4px)`}},e.children),c=e=>a.a.createElement("div",{style:{fontSize:"0px",margin:"20px 0"}},a.a.Children.map(e.children,t=>a.a.cloneElement(t,{cols:e.cols||4}))),s=e=>e.withoutLinks?a.a.createElement(i,{cols:e.cols},a.a.createElement("img",{src:Object(o.a)(e.src),alt:"result"})):a.a.createElement("a",{href:Object(o.a)(e.src),target:"_blank"},a.a.createElement(i,{cols:e.cols},a.a.createElement("img",{src:Object(o.a)(e.src),alt:"result"})))},67:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return d}));var r=n(2),a=n(6),o=(n(0),n(104)),i=(n(108),{title:"Save and load"}),c={unversionedId:"grid2d/save-load",id:"version-2.0.0-alpha.0/grid2d/save-load",isDocsHomePage:!1,title:"Save and load",description:"In this tutorial, we will see how to save and load level descriptions and generated layouts.",source:"@site/versioned_docs\\version-2.0.0-alpha.0\\grid2d\\save-load.md",permalink:"/Edgar-DotNet/docs/grid2d/save-load",editUrl:"https://github.com/OndrejNepozitek/Edgar-DotNet/tree/docusaurus/versioned_docs/version-2.0.0-alpha.0/grid2d/save-load.md",version:"2.0.0-alpha.0",sidebar:"version-2.0.0-alpha.0/docs",previous:{title:"Complex dungeon setup",permalink:"/Edgar-DotNet/docs/grid2d/complex-dungeon"},next:{title:"Performance tips",permalink:"/Edgar-DotNet/docs/other/performance-tips"}},s=[{value:"Level descriptions (JSON)",id:"level-descriptions-json",children:[]},{value:"Layouts (JSON)",id:"layouts-json",children:[]},{value:"Layouts (PNG)",id:"layouts-png",children:[]}],l={rightToc:s};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In this tutorial, we will see how to save and load level descriptions and generated layouts."),Object(o.b)("h2",{id:"level-descriptions-json"},"Level descriptions (JSON)"),Object(o.b)("p",null,"To save a level description to a JSON file, we can call the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://ondrejnepozitek.github.io/Edgar-DotNet-ApiDocs/master/api/Edgar.GraphBasedGenerator.Grid2D.LevelDescriptionGrid2D-1.html#Edgar_GraphBasedGenerator_Grid2D_LevelDescriptionGrid2D_1_SaveToJson_System_String_System_Boolean_"}),Object(o.b)("inlineCode",{parentName:"a"},"SaveToJson()"))," method:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),'\nlevelDescription.SaveToJson("levelDescription.json");\n\n\n')),Object(o.b)("p",null,"And to load a level description from a JSON file, we can use the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://ondrejnepozitek.github.io/Edgar-DotNet-ApiDocs/master/api/Edgar.GraphBasedGenerator.Grid2D.LevelDescriptionGrid2D-1.html#Edgar_GraphBasedGenerator_Grid2D_LevelDescriptionGrid2D_1_LoadFromJson_System_String_"}),Object(o.b)("inlineCode",{parentName:"a"},"LoadFromJson()"))," method:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),'\nlevelDescription = LevelDescriptionGrid2D<int>.LoadFromJson("levelDescription.json");\n\n\n')),Object(o.b)("p",null,"By default, the JSON serializer is configured to preserve references to objects. That means that when it first encounters an object, it assigns a unique id to id and when it encounters the same object later, it only references that id and does not serialize the object itself. This is good for when we want load the level description back in C# later, but it may cause problems if we want to use the JSON outside C#. Therefore, it is possible to disable this feature:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),'\nlevelDescription.SaveToJson("levelDescription.json", preserveReferences: false);\n\n\n')),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},Object(o.b)("strong",{parentName:"p"},"Note:"),": API reference for the ",Object(o.b)("inlineCode",{parentName:"p"},"LevelDescriptionGrid2D")," class can be found ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://ondrejnepozitek.github.io/Edgar-DotNet-ApiDocs/master/api/Edgar.GraphBasedGenerator.Grid2D.LevelDescriptionGrid2D-1.html"}),"here"),".")),Object(o.b)("h2",{id:"layouts-json"},"Layouts (JSON)"),Object(o.b)("p",null,"It is possible to save a generated layout to JSON and then load it back:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),'\nlayout.SaveToJson("layout.json");\nlayout = LayoutGrid2D<int>.LoadFromJson("layout.json");\n\n\n')),Object(o.b)("p",null,"And it is also possible to disable the ",Object(o.b)("inlineCode",{parentName:"p"},"preserveReferences")," feature:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),'\nlayout.SaveToJson("layout.json", preserveReferences: false);\n\n\n')),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},Object(o.b)("strong",{parentName:"p"},"Note:"),": API reference for the ",Object(o.b)("inlineCode",{parentName:"p"},"LayoutGrid2D")," class can be found ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://ondrejnepozitek.github.io/Edgar-DotNet-ApiDocs/master/api/Edgar.GraphBasedGenerator.Grid2D.LayoutGrid2D-1.html"}),"here"),".")),Object(o.b)("h2",{id:"layouts-png"},"Layouts (PNG)"),Object(o.b)("p",null,"It is possible to save a generated layout as a PNG. To do that, we have to create an instance of the ",Object(o.b)("inlineCode",{parentName:"p"},"DungeonDrawer")," class:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"\nvar dungeonDrawer = new DungeonDrawer<int>();\n\n\n")),Object(o.b)("p",null,"Then we can save the layout as a PNG:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),'\ndungeonDrawer.DrawLayoutAndSave(layout, "dungeon.png", new DungeonDrawerOptions()\n{\n    Width = 2000,\n    Height = 2000,\n});\n\n\n')),Object(o.b)("p",null,"The dungeon drawer produces images that can be seen in all the examples in this documentation. The API reference of the ",Object(o.b)("inlineCode",{parentName:"p"},"DungeonDrawerOptions")," class can be found ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://ondrejnepozitek.github.io/Edgar-DotNet-ApiDocs/master/api/Edgar.GraphBasedGenerator.Grid2D.Drawing.DungeonDrawerOptions.html"}),"here"),"."))}d.isMDXComponent=!0}}]);